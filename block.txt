            {/* Recipients Section */}
            {decryptedRecipients && decryptedRecipients.length > 0 && (
              <div>
                <h3 className="font-medium text-lg mb-2">Δικαιούχοι</h3>
                <div className="space-y-2 max-h-[300px] overflow-y-auto">
                  {decryptedRecipients.map((item: any, index: number) => {
                    // Extract beneficiary data from API response
                    const beneficiary = item.beneficiaries ? (Array.isArray(item.beneficiaries) ? item.beneficiaries[0] : item.beneficiaries) : item;
                    const firstname = beneficiary?.name || beneficiary?.firstname || '';
                    const lastname = beneficiary?.surname || beneficiary?.lastname || '';
                    const afm = beneficiary?.afm || item.afm || '';
                    const amount = item.amount || 0;
                    
                    return (
                      <div
                        key={index}
                        className="p-3 bg-muted rounded-lg"
                      >
                        <div className="flex justify-between items-start">
                          <div>
                            <p className="font-medium">
                              {lastname} {firstname}
                            </p>
                            <p className="text-sm text-muted-foreground">
                              Ξ‘Ξ¦Ξ: {afm}
                            </p>
                          </div>
                          <p className="font-medium">
                            {new Intl.NumberFormat('el-GR', {
                              style: 'currency',
                              currency: 'EUR'
                            }).format(amount)}
                          </p>
                        </div>
                      </div>
                    );
                  })}
                </div>
              )}
            </div>
          </div>
        </div>
