import re
import sys

file_path = r"c:\Users\USEER\Documents\LEXIS\client\src\components\documents\document-modals.tsx"

# Mapping of corrupted to correct Greek text using raw bytes
replacements = [
    ("Ξ•Ο€ΞµΞΎΞµΟΞ³Ξ±ΟƒΞ―Ξ± Ξ•Ξ³Ξ³ΟΞ¬Ο†ΞΏΟ…", "Επεξεργασία Εγγράφου"),
    ("Ξ£Ο„ΞΏΞΉΟ‡ΞµΞ―Ξ± Ξ ΟΟ‰Ο„ΞΏΞΊΟΞ»Ξ»ΞΏΟ…", "Στοιχεία Πρωτοκόλλου"),
    ("Ξ'ΟΞΉΞΈΞΌΟΟ‚ Ξ ΟΟ‰Ο„ΞΏΞΊΟΞ»Ξ»ΞΏΟ…", "Αριθμός Πρωτοκόλλου"),
    ("Ξ—ΞΌΞµΟΞΏΞΌΞ·Ξ½Ξ―Ξ± Ξ ΟΟ‰Ο„ΞΏΞΊΟΞ»Ξ»ΞΏΟ…", "Ημερομηνία Πρωτοκόλλου"),
    ("Ξ£Ο„ΞΏΞΉΟ‡ΞµΞ―Ξ± ΞΟΞ³ΞΏΟ…", "Στοιχεία Έργου"),
    ("ID ΞΟΞ³ΞΏΟ… (ΞΞ'853)", "ID Έργου (ΝΑ853)"),
    ("Ξ¤ΟΟ€ΞΏΟ‚ Ξ"Ξ±Ο€Ξ¬Ξ½Ξ·Ο‚", "Τύπος Δαπάνης"),
    ("Ξ"ΞΉΞΊΞ±ΞΉΞΏΟΟ‡ΞΏΞΉ", "Δικαιούχοι"),
    ("Ξ ΟΞΏΟƒΞΈΞ®ΞΊΞ· Ξ­Ο‰Ο‚ 10 Ξ΄ΞΉΞΊΞ±ΞΉΞΏΟΟ‡Ο‰Ξ½", "Προσθήκη έως 10 δικαιούχων"),
    ("Ξ ΟΞΏΟƒΞΈΞ®ΞΊΞ· Ξ"ΞΉΞΊΞ±ΞΉΞΏΟΟ‡ΞΏΟ…", "Προσθήκη Δικαιούχου"),
    ("ΞΞ½ΞΏΞΌΞ±", "Όνομα"),
    ("Ξ•Ο€ΟΞ½Ο…ΞΌΞΏ", "Επίθετο"),
    ("Ξ Ξ±Ο„ΟΟΞ½Ο…ΞΌΞΏ", "Πατρώνυμο"),
    ("Ξ'Ξ¦Ξ"", "ΑΦΜ"),
    ("Ξ ΞΏΟƒΟ", "Ποσό"),
    ("Ξ"ΟΟƒΞ·", "Δόση"),
    ("Ξ£Ο…Ξ½ΞΏΞ»ΞΉΞΊΟ Ξ ΞΏΟƒΟ:", "Συνολικό Ποσό:"),
    ("Ξ'Ο€ΞΏΞΈΞ®ΞΊΞµΟ…ΟƒΞ·...", "Αποθήκευση..."),
    ("Ξ'Ο€ΞΏΞΈΞ®ΞΊΞµΟ…ΟƒΞ· Ξ'Ξ»Ξ»Ξ±Ξ³ΟΞ½", "Αποθήκευση Αλλαγών"),
    ("Ξ"ΞΉΞ±Ξ³ΟΞ±Ο†Ξ® Ξ•Ξ³Ξ³ΟΞ¬Ο†ΞΏΟ…", "Διαγραφή Εγγράφου"),
    ("Ξ•Ξ―ΟƒΟ„Ξµ Ξ²Ξ­Ξ²Ξ±ΞΉΞΏΞΉ ΟΟ„ΞΉ ΞΈΞ­Ξ»ΞµΟ„Ξµ Ξ½Ξ± Ξ΄ΞΉΞ±Ξ³ΟΞ¬ΟΞµΟ„Ξµ Ξ±Ο…Ο„Ο Ο„ΞΏ Ξ­Ξ³Ξ³ΟΞ±Ο†ΞΏ; Ξ'Ο…Ο„Ξ® Ξ· ΞµΞ½Ξ­ΟΞ³ΞµΞΉΞ± Ξ΄ΞµΞ½ ΞΌΟ€ΞΏΟΞµΞ― Ξ½Ξ± Ξ±Ξ½Ξ±ΞΉΟΞµΞΈΞµΞ―.", "Είστε βέβαιοι ότι θέλετε να διαγράψετε αυτό το έγγραφο; Αυτή η ενέργεια δεν μπορεί να αναιρεθεί."),
    ("Ξ"ΞΉΞ±Ξ³ΟΞ±Ο†Ξ®...", "Διαγραφή..."),
    ("Ξ"ΞΉΞ±Ξ³ΟΞ±Ο†Ξ®", "Διαγραφή"),
    ("Ξ•ΞΎΞ±Ξ³Ο‰Ξ³Ξ® Ξ•Ξ³Ξ³ΟΞ¬Ο†Ο‰Ξ½", "Εξαγωγή Εγγράφων"),
    ("Ξ•Ο€ΞµΞΎΞµΟΞ³Ξ±ΟƒΞ―Ξ±...", "Επεξεργασία..."),
    ("Ξ›Ξ®ΟΞ·", "Λήψη"),
    ("Ξ'ΞΊΟΟΟ‰ΟƒΞ·", "Ακύρωση"),
]

try:
    with open(file_path, 'r', encoding='utf-8') as f:
        content = f.read()

    total_replacements = 0
    for corrupted, correct in replacements:
        count = content.count(corrupted)
        if count > 0:
            print("Found {} instance(s)".format(count))
            total_replacements += count
        content = content.replace(corrupted, correct)

    with open(file_path, 'w', encoding='utf-8') as f:
        f.write(content)

    print("File fixed successfully! Total replacements made: {}".format(total_replacements))
except Exception as e:
    print("Error: {}".format(str(e)))
    sys.exit(1)
